<!DOCTYPE html>
<html lang="it">
<head>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.1/fabric.min.js"></script>
    <script src="js/fabric.min.js"></script>
    <script src="js/fabric.curved-text.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Personalizza la Tovaglietta</title>
    <link rel="stylesheet" href="style.css">
     <label for="nome-input">Inserisci il tuo nome:</label>
    <input type="text" id="nome-input" placeholder="Nome">
    <button onclick="aggiungiNome()">Aggiungi Nome</button>
</head>
<body>
    <header>
        <h1>Personalizza la tua Tovaglietta</h1>
    </header>
    <main>
        <!-- Sezione per la scelta delle tovagliette -->
        <section id="seleziona-tovaglietta">
            <h2>Seleziona una Tovaglietta</h2>
            <div id="tovagliette-lista">
                <!-- Lista delle tovagliette con immagini cliccabili -->
                <img src="tovaglietta1.png" alt="Tovaglietta 1" onclick="selezionaTovaglietta('tovaglietta1.png')">
                <img src="tovaglietta2.png" alt="Tovaglietta 2" onclick="selezionaTovaglietta('tovaglietta2.png')">
                <img src="tovaglietta3.png" alt="Tovaglietta 3" onclick="selezionaTovaglietta('tovaglietta3.png')">
            </div>
        </section>

        <!-- Sezione per la scelta degli accessori -->
        <section id="seleziona-accessorio">
            <h2>Seleziona un Accessorio</h2>
            <div id="accessori-lista">
                <!-- Lista degli accessori con immagini cliccabili -->
                <img src="accessorio1.png" alt="Accessorio 1" onclick="aggiungiAccessorio('accessorio1.png')">
                <img src="accessorio2.png" alt="Accessorio 2" onclick="aggiungiAccessorio('accessorio2.png')">
                <img src="accessorio3.png" alt="Accessorio 3" onclick="aggiungiAccessorio('accessorio3.png')">
            </div>
        </section>

        <!-- Canvas per la visualizzazione della tovaglietta -->
        <section id="personalizza">
            <h2>Personalizza</h2>
            <div id="canvas-container">
                <canvas id="tovaglietta-canvas" width="600" height="400"></canvas>
            </div>
        </section>
    </main>
    <script src="script.js"></script>
<script>
        const canvas = new fabric.Canvas('tovaglietta-canvas');

        // Funzione per aggiungere il testo dal campo di input
        function aggiungiNome() {
            const nome = document.getElementById('nome-input').value;
            if (!nome) {
                alert("Per favore, inserisci un nome.");
                return;
            }

            // Aggiungi il testo al canvas
            const textbox = new fabric.Textbox(nome, {
                left: 150,      // posizione orizzontale iniziale
                top: 150,       // posizione verticale iniziale
                fontSize: 30,   // dimensione del testo
                fill: '#000000', // colore del testo
                editable: true,  // permette all'utente di modificare il testo
                selectable: true, // rende il testo trascinabile
                textAlign: 'center' // allinea il testo al centro
            });

            // Aggiungi la casella di testo al canvas
            canvas.add(textbox);
            canvas.setActiveObject(textbox); // rende la casella di testo attiva

            // Resetta il campo di input
            document.getElementById('nome-input').value = "";
        }
    </script>
</body>
</html>
